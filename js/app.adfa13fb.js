(function(t){function n(n){for(var a,i,r=n[0],c=n[1],u=n[2],d=0,f=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(n);while(f.length)f.shift()();return s.push.apply(s,u||[]),e()}function e(){for(var t,n=0;n<s.length;n++){for(var e=s[n],a=!0,r=1;r<e.length;r++){var c=e[r];0!==o[c]&&(a=!1)}a&&(s.splice(n--,1),t=i(i.s=e[0]))}return t}var a={},o={app:0},s=[];function i(n){if(a[n])return a[n].exports;var e=a[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=a,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)i.d(e,a,function(n){return t[n]}.bind(null,a));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/demat-torpedo/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=n,r=r.slice();for(var u=0;u<r.length;u++)n(r[u]);var l=c;s.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var a=e("85ec"),o=e.n(a);o.a},1:function(t,n){},"56d7":function(t,n,e){"use strict";e.r(n);var a={};e.r(a),e.d(a,"loadData",(function(){return pt}));e("4de4"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var o=e("2b0e"),s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container-fluid"},[e("app-header"),e("div",[e("transition",{attrs:{name:"slide",mode:"out-in"}},[e("router-view")],1)],1)],1)},i=[],r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Stock Trader")]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav mr-auto nav-tabs"},[e("router-link",{attrs:{to:"/portfolio",activeClass:"active",tag:"li"}},[e("a",{staticClass:"nav-link"},[t._v("Portfolio")])]),e("router-link",{attrs:{to:"/stocks",activeClass:"active",tag:"li"}},[e("a",{staticClass:"nav-link"},[t._v("Stocks")])])],1),e("ul",{staticClass:"navbar-nav"},[e("li",[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:t.endDay}},[t._v("End Day")])]),e("li",{staticClass:"dropdown show"},[e("a",{staticClass:"dropdown-toggle nav-link",attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Save & Load")]),e("ul",{staticClass:"dropdown-menu"},[e("li",[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:t.saveData}},[t._v("Save Data")])]),e("li",[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:t.loadData}},[t._v("Load Data")])])])])]),e("strong",{staticClass:"navbar-text ml-2"},[t._v("Funds: "+t._s(t._f("currency")(t.funds)))])])],1)])},c=[],u=e("5530"),l=e("2f62"),d=e("8aa5");e("e71f");var f={apiKey:"AIzaSyDFnJE_YzuvUkn5H0IUxOpfiVwxzeX8UeI",authDomain:"vuejs-wolf-of-wallstreet.firebaseapp.com",databaseURL:"https://vuejs-wolf-of-wallstreet.firebaseio.com",projectId:"vuejs-wolf-of-wallstreet",storageBucket:"vuejs-wolf-of-wallstreet.appspot.com",messagingSenderId:"117401905831",appId:"1:117401905831:web:2b8309ab6aa61151190982",measurementId:"G-F7LZ935LF5"};d["initializeApp"](f);var p=d["firestore"](),v=function(t){p.collection("user").doc("data").set(t).then((function(){console.log("Document successfully written!")})).catch((function(t){console.error("Error writing document: ",t)}))},m={data:function(){return{isDropdownOpen:!1}},computed:{funds:function(){return this.$store.getters.funds}},methods:Object(u["a"])(Object(u["a"])({},Object(l["b"])({randomizeStocks:"randomizeStocks",fetchData:"loadData"})),{},{endDay:function(){this.randomizeStocks()},saveData:function(){var t={funds:this.$store.getters.funds,stockPortfolio:this.$store.getters.stockPortfolio,stocks:this.$store.getters.stocks};v(t)},loadData:function(){this.fetchData()}})},k=m,h=e("2877"),y=Object(h["a"])(k,r,c,!1,null,null,null),b=y.exports,_={components:{appHeader:b},created:function(){this.$store.dispatch("initStocks")}},g=_,S=(e("034f"),Object(h["a"])(g,s,i,!1,null,null,null)),C=S.exports,O=e("8c4f"),q=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",[t._v("Trade or View your Portfolio")]),e("h6",[t._v("You may Save & Load you Data")]),e("h6",[t._v('Click on "End Day" to begin a New Day!')]),e("hr"),e("p",[t._v("Your Funds: "+t._s(t._f("currency")(t.funds)))])])},w=[],x={computed:{funds:function(){return this.$store.getters.funds}}},j=x,P=Object(h["a"])(j,q,w,!1,null,null,null),D=P.exports,T=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"row"},t._l(t.stocks,(function(t,n){return e("app-stock",{key:n,attrs:{stock:t}})})),1)},E=[],$=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"col col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-2"},[e("div",{staticClass:"card border-dark"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-text"},[t._v(t._s(t.stock.name))]),e("p",{staticClass:"card-text"},[e("small",{staticClass:"text-muted"},[t._v("(Price: $"+t._s(t.stock.price)+" | Quantity: "+t._s(t.stock.quantity)+")")])])]),e("div",{staticClass:"card-body text-dark"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control",class:{"border-danger":t.insufficientQuantity||t.quantity<0||Math.floor(t.quantity)!=t.quantity},attrs:{type:"number",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(n){n.target.composing||(t.quantity=n.target.value)}}})]),e("div",{staticClass:"card-footer text-dark"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.quantity<=0||Math.floor(t.quantity)!=t.quantity||t.insufficientQuantity},on:{click:t.sellStock}},[t._v(t._s(t.insufficientQuantity?"Not enough Stocks":"Sell"))])])])])},I=[],L={data:function(){return{quantity:0}},computed:{insufficientQuantity:function(){return this.quantity>this.stock.quantity}},methods:Object(u["a"])(Object(u["a"])({},Object(l["b"])({placeSellOrder:"sellStock"})),{},{sellStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:this.quantity};this.placeSellOrder(t),this.quantity=0}}),props:{stock:{type:Object}}},F=L,M=Object(h["a"])(F,$,I,!1,null,null,null),K=M.exports,z={computed:Object(u["a"])({},Object(l["c"])({stocks:"stockPortfolio"})),components:{appStock:K}},N=z,Q=Object(h["a"])(N,T,E,!1,null,null,null),U=Q.exports,B=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"row"},t._l(t.stocks,(function(t,n){return e("app-stock",{key:n,attrs:{stock:t}})})),1)},R=[],Y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"col col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-2"},[e("div",{staticClass:"card border-dark"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-text"},[t._v(t._s(t.stock.name))]),e("p",{staticClass:"card-text"},[e("small",{staticClass:"text-muted"},[t._v("(Price: $"+t._s(t.stock.price)+")")])])]),e("div",{staticClass:"card-body text-dark"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control",class:{"border-danger":t.insufficientFunds||t.quantity<0||Math.floor(t.quantity)!=t.quantity},attrs:{type:"number",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(n){n.target.composing||(t.quantity=n.target.value)}}})]),e("div",{staticClass:"card-footer text-dark"},[e("button",{staticClass:"btn btn-success",attrs:{disabled:t.quantity<=0||Math.floor(t.quantity)!=t.quantity||t.insufficientFunds},on:{click:t.buyStock}},[t._v(t._s(t.insufficientFunds?"Insufficient Funds":"Buy"))])])])])},A=[],J={data:function(){return{quantity:0}},computed:{funds:function(){return this.$store.getters.funds},insufficientFunds:function(){return this.quantity*this.stock.price>this.funds}},methods:{buyStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:this.quantity};this.$store.dispatch("buyStock",t),this.quantity=0}},props:{stock:{type:Object}}},G=J,H=Object(h["a"])(G,Y,A,!1,null,null,null),V=H.exports,W={components:{appStock:V},computed:{stocks:function(){return this.$store.getters.stocks}}},X=W,Z=Object(h["a"])(X,B,R,!1,null,null,null),tt=Z.exports,nt=[{path:"/",component:D},{path:"/portfolio",component:U},{path:"/stocks",component:tt}],et=(e("4160"),e("159b"),[{id:1,name:"BMW",price:110},{id:2,name:"Google",price:200},{id:3,name:"Apple",price:250},{id:4,name:"Twitter",price:8}]),at={stocks:[]},ot={SET_STOCKS:function(t,n){t.stocks=n},RND_STOCKS:function(t){t.stocks.forEach((function(t){t.price=Math.round(t.price*(1+Math.random()-.5))}))}},st={buyStock:function(t,n){t.commit("BUY_STOCK",n)},initStocks:function(t){var n=t.commit;n("SET_STOCKS",et)},randomizeStocks:function(t){var n=t.commit;n("RND_STOCKS")}},it={stocks:function(t){return t.stocks}},rt={state:at,mutations:ot,actions:st,getters:it},ct=(e("7db0"),e("c975"),e("d81d"),e("a434"),e("b0c0"),{funds:1e4,stocks:[]}),ut={BUY_STOCK:function(t,n){var e=n.stockId,a=n.quantity,o=n.stockPrice,s=t.stocks.find((function(t){return t.id==e}));s?s.quantity+=a:t.stocks.push({id:e,quantity:a}),t.funds-=o*a},SELL_STOCK:function(t,n){var e,a=n.stockId,o=n.quantity,s=n.stockPrice,i=null===(e=t.stocks)||void 0===e?void 0:e.find((function(t){return t.id==a}));console.log("record: ",i),(null===i||void 0===i?void 0:i.quantity)>o?i.quantity-=o:t.stocks.splice(t.stocks.indexOf(i),1),t.funds+=s*o},SET_PORTFOLIO:function(t,n){t.funds=n.funds,t.stocks=n.stockPortfolio}},lt={sellStock:function(t,n){var e=t.commit;e("SELL_STOCK",n)}},dt={stockPortfolio:function(t,n){return t.stocks.map((function(t){var e=n.stocks.find((function(n){return n.id==t.id}));return{id:t.id,quantity:t.quantity,name:e.name,price:e.price}}))},funds:function(t){return t.funds}},ft={state:ct,mutations:ut,actions:lt,getters:dt},pt=function(t){var n=t.commit,e=p.collection("user").doc("data");e.get().then((function(t){if(t.exists){console.log("Document data:",t.data());var e=t.data(),a=e.stockPortfolio,o=e.funds,s=e.stocks,i={stockPortfolio:a,funds:o};n("SET_STOCKS",s),n("SET_PORTFOLIO",i)}else console.log("No such document!")})).catch((function(t){console.log("Error getting document:",t)}))};o["a"].use(l["a"]);var vt=new l["a"].Store({actions:a,modules:{stocks:rt,portfolio:ft}}),mt=e("28dd");o["a"].use(O["a"]),o["a"].use(mt["a"]),o["a"].filter("currency",(function(t){return"$"+t.toLocaleString()}));var kt=new O["a"]({mode:"history",routes:nt});o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(C)},router:kt,store:vt}).$mount("#app")},"85ec":function(t,n,e){}});
//# sourceMappingURL=app.adfa13fb.js.map